<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
        <script language="javascript" type="text/javascript">          
            function checkWebSocket() {
                if('WebSocket' in window) {
                    alert("WebSocket supported");
                } else {
                    alert("WebSocket not supported");
                }
            }
        </script>
        
        <script language="javascript" type="text/javascript">      
            var wsUri = "ws://echo.websocket.org/";
            var output;

            function init()
            {
              alert("init");
              output = document.getElementById("output");
              testWebSocket();
            }

            function testWebSocket()
            {
              websocket = new WebSocket('ws://localhost:8082/');
              websocket.onopen = function(evt) { onOpen(evt) };
              websocket.send("hello");
              //websocket.onclose = function(evt) { onClose(evt) };
              //websocket.onmessage = function(evt) { onMessage(evt) }         
              //websocket.onerror = function(evt) { onError(evt) };
            }

            function onOpen(evt)
            {
              alert("CONNECTED");       
            }

            function onClose(evt)
            {
                alert("DISCONNECTED");
            }

            function onMessage(evt)
            {
                alert(evt.data);
                websocket.close();
            }

            function onError(evt)
            {
                alert(evt.data);
            }

            function doSend(message)
            {
                alert("SENT: " + message);
                websocket.send(message);
            }

            window.addEventListener("load", init, false);
        </script>
    </head>

    <body>
        <button onclick="checkWebSocket()">Check WebSocket Compatibility</button>
        <button onclick="init()">Test WebSocket Functionality</button>  
    </body>
</html>